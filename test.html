<script src="db/questions.js"></script>
<script>
  console.log('length', questions.length);

  function findWrongAnswers() {
    let noAnswer = 0;

    questions.forEach((question) => {
      let isFound = false;

      question.choices.forEach((choice) => {
        if (question.answer === choice) {
          isFound = true;
        }
      });

      if (!isFound) {
        console.log(question.answer);
        noAnswer++;
      }

      question.word ?? console.log(question);
    });

    console.log('wrong answer', noAnswer);
  }

  findWrongAnswers();
  // console.log(JSON.stringify(og_words));

  // const newLevels = levels.map((level, index) => {
  //   const imgName =
  //     level.rank.toLowerCase().replaceAll(' ', '-') +
  //     '-' +
  //     level.name.toLowerCase().replaceAll(' ', '-') +
  //     '.jpg';
  //   return {
  //     ...level,
  //     level: index + 1,
  //     image: `${imgName}`,
  //   };
  // });

  // console.log(JSON.stringify(newLevels));

  function findDuplicatesUsingFilter(arr) {
    const duplicates = arr.filter((item, index) => arr.indexOf(item) !== index);
    return [...new Set(duplicates)]; // Remove potential duplicates from the 'duplicates' array itself
  }

  // let missingWords = wordOrder.filter((word) => !og_words.includes(word));
  // console.log('--Missing words--');

  // console.log(new Set(missingWords));
  // console.log(findDuplicatesUsingFilter(og_words));

  function addCorpusLinguisticsScore() {
    const scoredQuestions = questions.map((question) => {
      const wordscore = wordScores.find((w) => w.word === question.word);
      if (wordscore) return { ...question, clscore: wordscore.clscore };

      return { ...question };
    });

    console.log(JSON.stringify(scoredQuestions));
  }

  // addCorpusLinguisticsScore();

  // ## FIND missing score
  // questions.forEach((question) => {
  //   if (!question.clscore) console.log(question.word);
  // });

  // ## sort
  questions.sort((a, b) => a.word.localeCompare(b.word));
  questions.sort((a, b) => b.clscore - a.clscore);
  console.log(JSON.stringify(questions));

  function convertMarkdownToHTML(markdown) {
    return markdown.replace(/\*\*(.*?)\*\*/g, '<em>$1</em>');
  }
  function markdownToEm() {
    const updatedQs = questions.map((q) => {
      return {
        ...q,
        question: convertMarkdownToHTML(q.question),
      };
    });

    console.log(JSON.stringify(updatedQs));
  }
  // markdownToEm();
</script>
